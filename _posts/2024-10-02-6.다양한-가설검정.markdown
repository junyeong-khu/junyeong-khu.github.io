---
layout: post
title: "통계 101 X 데이터 분석 : 6. 다양한 가설검정"
date: 2024-10-02 04:01:45 +0900
categories: 통계_101_X_데이터_분석
---
## <span style= 'background-color: #f1f8ff'>6-1. 다양한 가설검정
🗃️ 가설검정 해석의 기본 흐름\
1. 확인하고 싶은 대상에 따라 귀무가설과 대립가설을 설정한다.
2. 데이터로 가설검정에 필요한 검정통계량을 계산한다.
3. 귀무가설이 옳다는 가정하에 통계량의 분포를 생각하고, 데이터로 계산한 통계량이 분포의 어느 위치에 있는지를 구하여 p값을 계산한다.

🗃️ 데이터 유형에 따른 분석 방법의 선택\
데이터 유형이 양적 변수인지 질적 변수인지에 따라 해석 방법이 달라짐. 범주형 데이터마다 양적 데이터가 달라지는지 조사할 때는 막대 그래프, 범주형 데이터끼리의 관계를 조사할 때는 **분할표**, 양적 데이터끼리의 관계를 조사할 때는 **산점도**를 택함.
![image](https://github.com/user-attachments/assets/e2175f81-d628-4034-81e2-62ead5066314)

🗃️ 표본의 수에 따른 분석 방법의 선택\
데이터가 1표본일 경우 1변수 데이터를 조사하고, 2표본 이상일 때는 표본끼리 비교하여 집단 간의 차이를 조사함. 단, 3개 이상의 표본을 서로 비교할 때는 다중비교라 불리는 보정 방법이 필요.
![image](https://github.com/user-attachments/assets/d4d6515d-aaa9-45f2-9ca5-607d3f61f2ba)

🗃️ 양적 변수의 성질에 따른 분석 방법의 선택\
양적 변수의 분포에 정규성이 있는 경우 **모수검정**을 이용하고, 정규성이 없는 경우 평균이나 표준편차 등의 파라미터에 기반을 두지 않는 **비모수검정**을 이용함. 또, 집단 간 평균값을 비교하는 경우엔은 집단끼리 분산이 동일하다고 가정하는 방법이 많음.
![image](https://github.com/user-attachments/assets/a224a34f-ec34-48f3-a228-4eebedacdb16)

![image](https://github.com/user-attachments/assets/dbf21193-e685-475b-867f-03d7597b8f42)


## <span style= 'background-color: #f1f8ff'>6-2. 대푯값 비교
🗃️ 일표본 t검정\
2가지 조건을 비교하는 것이 아니라 어떤 평균값의 모집단에서 표본을 얻었는가를 조사함. 귀무가설 "모집단의 평균은 u=OO이다."를 전제로 검정하며, 이때 u=OO으로는 연구의 배경으로서 의미가 있는 값을 고려해야만 함.
![image](https://github.com/user-attachments/assets/d3be9cb2-e3aa-4d99-a618-50b52aa5bfac)

🗃️ 이표본 t검정\
2개 집단의 평균값을 비교함. 귀무가설 "2개 집단의 평균값은 같다."를 전제로 검정함. 또, t검정은 모수검정으로 분류되는 검정 방법이기에 **데이터에 정규성이 있어야함**. 일반적인 t검정에서는 등분산성을 가정함. 분산이 일치하지 않는 경우에는 **웰치의 t검정**을 이용하는데, 이때에도 정규성은 있어야 함.

🗃️ 대응 관계가 있는 검정\
한 피험자의 경과를 n회 측정하여 차이를 얻고, 그 차이를 통해 일표본 t검정이 가능. 대응 관계가 있는 데이터일 때는 똑같이 대응 관계가 있는 검정을 이용해야 제2종 오류가 발생할 확률을 낮출 수 있으며 검정력도 높일 수 있음.

🗃️ 정규성 조사\
시각적으로 판단할 수 있는 **Q-Q 플롯**, 가설검정으로 조사하는 **샤피로-윌크 검정**, 이론적인 분포와 비교하는 **콜모고로프-스미르노프 검정**을 통해 정규성을 조사. 2개 집단이 있을 때는 각 집단의 정규성을 조사하는 검정을 실시하고 그 다음 t검정을 이용하게 되므로 검정 다중성 문제가 생김. 따라서 데이터가 정규분포에서 얻어졌는지 여부를 조사하는 가장 좋은 방법은 없음.

🗃️ 등분산성 조사\
**바틀렛 검정**이나 **레빈 검정**을 통해 조사. 이때 귀무가설 "2개 모집단의 분산은 같다."를 이용하여 가설검정을 시행.

🗃️ 비모수검정의 대푯값 비교\
평균값 대신 각 데이터 값의 순위에 기반하여 검정을 실시하는 **윌콕슨 순위합 검정**, 같은 방식의 **맨-휘트니 U 검정**을 이용하여 해석. 단, 후자를 사용하려면 비교할 2개 집단의 분포 모양 자체가 같아야 함. 윌콕슨 순위합 검정에서는 귀무가설 "2개 모집단의 위치가 같다."를 전제로 분석을 실행함. 이 외에도 **플리그너-폴리셀로 검정**, **브루너-문첼 검정**이 있음.
![image](https://github.com/user-attachments/assets/0c4c0580-00dc-4eff-8600-4622183507d7)

🗃️ 분산분석 (3개 집단 이상의 평균값 비교)\
![image](https://github.com/user-attachments/assets/3bb794e8-6bfa-4123-b725-d3457ed2cc18)

집단의 차이를 무시하고 모든 데이터를 이용하여 전체 평균을 계산한 후, 각 집단의 평균을 계산함. 이후 전체 평균과 각 데이터의 차이를 구함. 이때 각 데이터의 전체 평균과의 차이를 집단 내의 분산과 집단 간의 분산으로 분해할 수 있음. 집단 내 변동은 동일 조건에서의 데이터 퍼짐이므로 원래 존재하는 무작위 오차의 크기를 나타냄. 하지만 집단 간 변동은 집단 간의 차이를 나타내며, 집단 간 차이가 있다면 큰 데이터 퍼짐을 나타냄. 구체적으로 F값=(평균적인 집단 간 변동)/(평균적인 집단 내 변동)을 계산하여 검정통계량을 만들고, 이 양은 귀무가설이 올바르다는 가정하에 **F분포**라는 분포를 따름. F값이 5% 지점보다 오른쪽에 있다면 유의수준 0.05에서 통계적으로 유의미한 집단 간 차이가 있다는 것을 나타냄.

![image](https://github.com/user-attachments/assets/84212b31-8070-4a1e-b374-80273fedeab5)

🗃️ 다중비교 검정\
다중성 문제를 회피하고자 이용하는 방법으로, 검정을 반복하는 만큼 유의수준을 엄격한 값으로 변경하는 것이 기본 아이디어임.

🗃️ 다중비교 방법의 종류
1. 본페로니 교정: 전체에서 유의수준 a를 설정했을 때의 검정 반복 횟수를 k라 하고, 매 검정에서는 a를 검정 횟수로 나눈 값 a/k를 기준으로 가설검정을 하는 방법. 간단하지만 검정력이 낮은 경향이 있음.
2. 튜키 검정: 본페로니 교정보다 우수한 방식으로 보통 분산분석을 시행한 다음에는 이 검정 방식을 택함.
3. 던넷 검정: 대조군과의 비교에만 관심이 있을 때 이용하면 좋은 검정 방법. 튜키 검정보다도 검정력이 향상됨.
4. 윌리엄스 검정: 집단 간에 순위를 매길 수 있는 경우에 사용하면 좋은 검정 방법.
![image](https://github.com/user-attachments/assets/fe9adf6f-c640-4c55-a9f0-5ec0419611c2)

🗃️ 3집단 이상의 비모수검정\
정규성이 없는 집단이 1개 이상일 경우 **크러스컬-월리스 검정**을 사용하는 것을 권함. 비모수 다중비교 방법도 있는데 튜키 검정에 상응하는 것이 **스틸-드와스 검정**, 던넷 검정에 상응하는 것이 **스틸 검정**임.


## <span style= 'background-color: #f1f8ff'>6-3. 비율 비교
🗃️ 범주형 데이터\
범주형 데이터에서는 모집단의 파라미터인 확률 P를 추정하거나, 혹은 확률 P에 관련된 가설을 세워 검정함.

🗃️ 이항검정\
두 개의 범주의 확률을 조사하는 방법으로 P=1/2로 귀무가설과 대립가설을 세워 검정함.
![image](https://github.com/user-attachments/assets/83a582ab-36d0-42e3-ba53-2e6f3a844ed3)

🗃️ 카이제곱검정: 적합도검정
더 많은 범주에 이항검정의 방식을 적용하고 싶은 경우 사용하는 검정 방식.
![image](https://github.com/user-attachments/assets/c9c3889e-5f63-4217-98c7-4a01a8a3b618)

🗃️ 카이제곱검정: 독립성검정
범주형 변수에서 2개 변수의 관계를 조사해야할 때 사용하는 검정 방식.
![image](https://github.com/user-attachments/assets/4adf48ff-8569-4793-b0cb-15e7d3818409)


### 출처 : 통계 101 X 데이터 분석