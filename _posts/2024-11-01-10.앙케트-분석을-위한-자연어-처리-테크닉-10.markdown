---
layout: post
title: "íŒŒì´ì¬ ë°ì´í„°ë¶„ì„ ì‹¤ë¬´ í…Œí¬ë‹‰ 100 : 10. ì•™ì¼€íŠ¸ ë¶„ì„ì„ ìœ„í•œ ìì—°ì–´ ì²˜ë¦¬ í…Œí¬ë‹‰ 10"
date: 2024-11-01 03:01:45 +0900
categories: íŒŒì´ì¬_ë°ì´í„°ë¶„ì„_ì‹¤ë¬´_í…Œí¬ë‹‰_100
---
## <span style= 'background-color: #f1f8ff'>ê³ ê°ì˜ ì†Œë¦¬
ğŸ—£ï¸ ìš°ë¦¬ íšŒì‚¬ëŠ” ì˜¤ë«ë™ì•ˆ ì´ ë„ì‹œì—ì„œ ë¶€ë™ì‚°ì—…ì„ ê²½ì˜í–ˆìŠµë‹ˆë‹¤. ë•ë¶„ì— ì •ë¶€ ê¸°ê´€ê³¼ì˜ ìœ ëŒ€ê°ë„ ê¹Šì–´ì„œ ë¶€ë™ì‚° ì—…ìì˜ ê´€ì ì—ì„œ ë„ì‹œ ê±´ì„¤ ì œì•ˆì„ ì˜ë¢°ë°›ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ìš°ë¦¬ íšŒì‚¬ì™€ ê´€ê³„ìˆëŠ” ê³ ê°ê³¼ ë™ì—…ìì—ê²Œ í˜‘ì¡°ë¥¼ ë°›ì•„ ì„¤ë¬¸ì¡°ì‚¬ë¥¼ í–ˆìŠµë‹ˆë‹¤. ì˜ˆìƒì™¸ë¡œ ë§ì€ ì‚¬ëŒì´ í˜‘ë ¥í•´ì£¼ì…”ì„œ ì „ë¶€ ëˆˆìœ¼ë¡œ í›‘ì–´ë³´ê¸°ë„ ì–´ë ¤ìš´ ìƒí™©ì´ ë˜ì–´ ë²„ë ¸ìŠµë‹ˆë‹¤. ì¡°ê¸ˆë§Œ ì½ì–´ë´ë„ ìœ ìµí•œ ì •ë³´ê°€ ë§ì•„ AIë¥¼ ì‚¬ìš©í•´ ë¶„ì„í–ˆìœ¼ë©´ í•©ë‹ˆë‹¤. ì´ëŸ° ê²Œ ê°€ëŠ¥í• ê¹Œìš”? ê°€ëŠ¥í•˜ë‹¤ë©´ ì•Œê¸° ì‰½ê²Œ ë³´ê³ ì„œë¥¼ ì‘ì„±í•´ì£¼ë©´ ì •ë¶€ ê¸°ê´€ì— ì œì•ˆí•˜ê¸° ì‰¬ìš¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.


## <span style= 'background-color: #f1f8ff'>10-0: ì „ì œì¡°ê±´
ğŸ’¡ ìº í˜ì¸ ê¸°ê°„(2019ë…„ 1ì›”~4ì›”)ì˜ 4ê°œì›” ë™ì•ˆ ëª¨ì€ ê³ ê°ë§Œì¡±ë„ ì„¤ë¬¸ì¡°ì‚¬ ë°ì´í„°ê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ê¸°ë¡ë¼ ìˆìŠµë‹ˆë‹¤. ì´ ì •ë³´ë¥¼ í™œìš©í•´ì„œ ê³ ê°ë§Œì¡±ë„ í–¥ìƒì— í™œìš©í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ë‹¤ë£° ë°ì´í„°ì—ëŠ” ì„¤ë¬¸ì¡°ì‚¬ë¥¼ í•œ ë‚ ì§œ, ì˜ê²¬, ë§Œì¡±ë„(5ë‹¨ í‰ê°€)ì˜ ê²°ê³¼ê°€ ë“¤ì–´ ìˆìŠµë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/a1d3f61c-a4fb-411a-be7a-fca5eee8004b)


## <span style= 'background-color: #f1f8ff'>10-1: ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì„œ íŒŒì•…í•´ ë³´ì
ğŸ—ƒï¸ ë°ì´í„° ë¦¬ë”©
```python
import pandas as pd
survey = pd.read_csv("survey.csv")
print(len(survey))
survey.head()
```
![image](https://github.com/user-attachments/assets/aff135d8-6736-462d-b9a6-b3528b3aa6af)

ğŸ—ƒï¸ ê²°ì¸¡ì¹˜ ì œê±°: ê²°ì¸¡ì¹˜ë¥¼ í™•ì¸í•œ ê²°ê³¼ 2ê°œ ë°–ì— ì¡´ì¬í•˜ì§€ ì•Šì•„ ì œê±°.
```python
survey = survey.dropna()
survey.isna().sum()
```
![image](https://github.com/user-attachments/assets/17e6de4b-790a-4101-a98c-c6f3f90da4e1)


## <span style= 'background-color: #f1f8ff'>10-2: ë¶ˆí•„ìš”í•œ ë¬¸ìë¥¼ ì œê±°í•˜ì
ğŸ—ƒï¸ ë¶ˆí•„ìš”í•œ ë¬¸ì ì œê±°: ì •ê·œ í‘œí˜„ì‹ì„ í™œìš©í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë¬¸ìë¥¼ ì œê±°.
```python
survey["comment"] = survey["comment"].str.replace("\(.+?\)", "")
survey.head()
```
![image](https://github.com/user-attachments/assets/4d1ae991-78d3-4e28-9152-17cb8fa6082c)


ğŸ” ê´„í˜¸ ì•ˆì˜ ë¬¸ì¥ì´ ë³´ì¡°ì ì´ê¸°ì— ê´„í˜¸ë¥¼ í†µì§¸ë¡œ ì œê±°. 


## <span style= 'background-color: #f1f8ff'>10-3: ë¬¸ì ìˆ˜ë¥¼ ì„¸ì–´ íˆìŠ¤í† ê·¸ë¨ìœ¼ë¡œ í‘œì‹œí•´ ë³´ì
ğŸ—ƒï¸ ë¬¸ì ìˆ˜ ì„¸ê¸°
```python
survey["length"] = survey["comment"].str.len()
survey.head()
```
![image](https://github.com/user-attachments/assets/e44d08a9-920b-45cf-aec1-9b201794dfb1)


ğŸ—ƒï¸ íˆìŠ¤í† ê·¸ë¨ ì‘ì„±
```python
import matplotlib.pyplot as plt
%matplotlib inline
plt.hist(survey["length"])
```
![image](https://github.com/user-attachments/assets/ee9bbf4a-7c97-43c9-87cb-89b9072e9698)


## <span style= 'background-color: #f1f8ff'>10-4: í˜•íƒœì†Œ ë¶„ì„ìœ¼ë¡œ ë¬¸ì¥ì„ ë¶„í•´í•´ ë³´ì
ğŸ—ƒï¸ í˜•íƒœì†Œ ë¶„ì„: konlpyë¥¼ ì´ìš©í•´ ë¶„ì„.
```python
from konlpy.tag import Twitter
twt = Twitter()
text = "í˜•íƒœì†Œë¶„ì„ìœ¼ë¡œ ë¬¸ì¥ì„ ë¶„í•´í•´ë³´ì"
tagging = twt.pos(text)
tagging
```
[('í˜•íƒœì†Œ', 'Noun'),\
 ('ë¶„ì„', 'Noun'),\
 ('ìœ¼ë¡œ', 'Josa'),\
 ('ë¬¸ì¥', 'Noun'),\
 ('ì„', 'Josa'),\
 ('ë¶„í•´', 'Noun'),\
 ('í•´ë³´ì', 'Verb')]


ğŸ—ƒï¸ ë‹¨ì–´ë§Œ ì €ì¥: í’ˆì‚¬ëŠ” í•„ìš” ì—†ìŒ.
```python
words = txt.pos(text)
words_arr = []
for i in words:
    if i == 'EOS': continue
    word_tmp = i[0]
    words_arr.append(word_tmp)
words_arr
```
['í˜•íƒœì†Œ', 'ë¶„ì„', 'ìœ¼ë¡œ', 'ë¬¸ì¥', 'ì„', 'ë¶„í•´', 'í•´ë³´ì']


## <span style= 'background-color: #f1f8ff'>10-5: í˜•íƒœì†Œ ë¶„ì„ìœ¼ë¡œ ë¬¸ì¥ì—ì„œ 'ë™ì‚¬', 'ëª…ì‚¬'ë¥¼ ì¶”ì¶œí•´ ë³´ì
ğŸ—ƒï¸ ë™ì‚¬, ëª…ì‚¬ ì¶”ì¶œ
```python
text = "í˜•íƒœì†Œë¶„ì„ìœ¼ë¡œ ë¬¸ì¥ì„ ë¶„í•´í•´ë³´ì"
words_arr = []
parts = ["Noun", "Verb"]
words = twt.pos(text)
words_arr = []
for i in words:
    if i == 'EOS' or i == '': continue
    word_tmp = i[0]
    part = i[1]
    if not (part in parts):continue
    words_arr.append(word_tmp)
words_arr
```
['í˜•íƒœì†Œ', 'ë¶„ì„', 'ë¬¸ì¥', 'ë¶„í•´', 'í•´ë³´ì']


ğŸ” ì„¤ë¬¸ ê²°ê³¼ì—ì„œ ì–´ë–¤ ë‹¨ì–´ê°€ ì‚¬ìš©ëì„ ë•Œ ë§Œì¡±ë„ê°€ ë†’ì€ì§€ë¥¼ ì‚´í´ë³¼ ì˜ˆì •. ëª…ì‚¬ë§Œìœ¼ë¡œë„ ê·¸ ë¬¸ì¥ì´ ë¬´ì—‡ì„ ì„œìˆ í•˜ê³  ìˆëŠ”ì§€ë¥¼ íŠ¹ì • ì§€ì„ ìˆ˜ ìˆê¸°ì— ëª…ì‚¬ë§Œì„ ì´ìš©í•˜ì—¬ ë¶„ì„.


## <span style= 'background-color: #f1f8ff'>10-6: í˜•íƒœì†Œ ë¶„ì„ìœ¼ë¡œ ìì£¼ ë‚˜ì˜¤ëŠ” ëª…ì‚¬ë¥¼ í™•ì¸í•´ ë³´ì
ğŸ—ƒï¸ í˜•íƒœì†Œ ë¶„ì„
```python
all_words = []
parts = ["Noun"]
for n in range(len(survey)):
    text = survey["comment"].iloc[n]
    words = twt.pos(text)
    words_arr = []
    for i in words:
        if i == "EOS" or i == "": continue
        word_tmp = i[0]
        part = i[1]
        if not (part in parts):continue
        words_arr.append(word_tmp)
    all_words.extend(words_arr)
print(all_words)
```
![image](https://github.com/user-attachments/assets/68af23dc-a392-44ca-b040-80a6a8a2b2cd)


ğŸ—ƒï¸ ë‹¨ì–´ë³„ ë¹ˆë„ìˆ˜ í™•ì¸
```python
all_words_df = pd.DataFrame({"words":all_words, "count":len(all_words)*[1]})
all_words_df = all_words_df.groupby("words").sum()
all_words_df.sort_values("count",ascending=False).head()
```
![image](https://github.com/user-attachments/assets/702bac1c-09ec-49df-8818-cb443a3fa55f)


ğŸ” ë¶ˆí•„ìš”í•œ ë‹¨ì–´ê°€ í¬í•¨ëœ ê²ƒì„ ì•Œ ìˆ˜ ìˆìŒ.


## <span style= 'background-color: #f1f8ff'>10-7: ê´€ê³„ì—†ëŠ” ë‹¨ì–´ë¥¼ ì œê±°í•´ ë³´ì
ğŸ—ƒï¸ ê´€ê³„ì—†ëŠ” ë‹¨ì–´ ì œê±°
```python
stop_words = ["ë”","ìˆ˜","ì¢€"]
all_words = []
parts = ["Noun"]
for n in range(len(survey)):
    text = survey["comment"].iloc[n]
    words = twt.pos(text)
    words_arr = []
    for i in words:
        if i == "EOS" or i == "": continue
        word_tmp = i[0]
        part = i[1]
        if not (part in parts):continue
        if word_tmp in stop_words:continue
        words_arr.append(word_tmp)
    all_words.extend(words_arr)
print(all_words)
```
![image](https://github.com/user-attachments/assets/6ffb6adb-1d3c-4c9d-a449-97fa45bf004d)


ğŸ—ƒï¸ ë‹¨ì–´ë³„ ë¹ˆë„ìˆ˜ í™•ì¸
```python
all_words_df = pd.DataFrame({"words":all_words, "count":len(all_words)*[1]})
all_words_df = all_words_df.groupby("words").sum()
all_words_df.sort_values("count",ascending=False).head()
```
![image](https://github.com/user-attachments/assets/a896c998-3bff-46c8-ba57-6f8c8cf86f04)


ğŸ” ì œì™¸ í‚¤ì›Œë“œëŠ” ê³„ì†í•´ì„œ ë°œê²¬ë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì§€ì†ì ìœ¼ë¡œ ì¶”ê°€í•´ì•¼ í•¨. ì—¬ê¸°ì„œëŠ” ì•ìœ¼ë¡œ ë‚˜ì˜¤ëŠ” ì¶”ê°€ ë‹¨ì–´ëŠ” ë¬´ì‹œí•¨.


## <span style= 'background-color: #f1f8ff'>10-8: ê³ ê°ë§Œì¡±ë„ì™€ ìì£¼ ë‚˜ì˜¤ëŠ” ë‹¨ì–´ì˜ ê´€ê³„ë¥¼ ì‚´í´ë³´ì
ğŸ—ƒï¸ ê³ ê°ë§Œì¡±ë„ ì¶”ì¶œ
```python
stop_words = ["ë”","ìˆ˜","ì¢€"]
all_words = []
satisfaction = []
parts = ["Noun"]
for n in range(len(survey)):
    text = survey["comment"].iloc[n]
    words = twt.pos(text)
    words_arr = []
    for i in words:
        if i == "EOS" or i == "": continue
        word_tmp = i[0]
        part = i[1]
        if not (part in parts):continue
        if word_tmp in stop_words:continue
        words_arr.append(word_tmp)
        satisfaction.append(survey["satisfaction"].iloc[n])
    all_words.extend(words_arr)
all_words_df = pd.DataFrame({"words":all_words, "satisfaction":satisfaction, "count":len(all_words)*[1]})
all_words_df.head()
```
![image](https://github.com/user-attachments/assets/d4e5e652-41ba-4333-9767-8c254f352aa1)


ğŸ—ƒï¸ ë‹¨ì–´ë³„ ë§Œì¡±ë„ ì§‘ê³„
```python
words_satisfaction = all_words_df.groupby("words").mean()["satisfaction"]
words_count = all_words_df.groupby("words").sum()["count"]
words_df = pd.concat([words_satisfaction, words_count], axis=1)
words_df.head()
```
![image](https://github.com/user-attachments/assets/57c21f58-5b0c-4c5d-97b4-f8f5b3a37c02)


ğŸ—ƒï¸ ë‹¤ìˆ˜ ì˜ê²¬ ì •ë¦¬
```python
words_df = words_df.loc[words_df["count"]>=3]
words_df.sort_values("satisfaction", ascending=False).head()

words_df.sort_values("satisfaction").head()
```
![image](https://github.com/user-attachments/assets/2d765dd9-3c18-4096-a6d7-4e7ddd64b6c8)

![image](https://github.com/user-attachments/assets/bc97e633-effa-4988-83af-381a25572610)


## <span style= 'background-color: #f1f8ff'>10-9: ì˜ê²¬ì„ íŠ¹ì§•ìœ¼ë¡œ í‘œí˜„í•´ ë³´ì
ğŸ—ƒï¸ ì˜ê²¬ íŠ¹ì§• ì‘ì„±
```python
all_words_df = pd.DataFrame()
satisfaction = []
parts = ["Noun"]
for n in range(len(survey)):
    text = survey["comment"].iloc[n]
    words = twt.pos(text)
    words_df = pd.DataFrame()
    for i in words:
        if i == "EOS" or i == "": continue
        word_tmp = i[0]
        part = i[1]
        if not (part in parts):continue
        words_df[word_tmp] = [1]
    all_words_df = pd.concat([all_words_df, words_df], ignore_index=True)
all_words_df.head()
```
![image](https://github.com/user-attachments/assets/1236143d-fde3-4497-bf7b-63de5e30920c)


ğŸ—ƒï¸ ê²°ì¸¡ì¹˜ ì²˜ë¦¬
```python
all_words_df = all_words_df.fillna(0)
all_words_df.head()
```
![image](https://github.com/user-attachments/assets/860d9449-b5e2-4e21-9e2d-54c453ca5344)


## <span style= 'background-color: #f1f8ff'>10-10: ë¹„ìŠ·í•œ ì„¤ë¬¸ì§€ë¥¼ ì°¾ì•„ë³´ì
ğŸ—ƒï¸ íƒ€ê¹ƒ ì˜ê²¬ ì¶”ì¶œ
```python
print(survey["comment"].iloc[2])
target_text = all_words_df.iloc[2]
print(target_text)
```
![image](https://github.com/user-attachments/assets/384ffecd-c347-44db-87a3-385e22cf9637)


ğŸ—ƒï¸ ìœ ì‚¬ë„ ê²€ìƒ‰: ë¬¸ì„œì˜ ìœ ì‚¬ë„ë¥¼ ì§€í‘œë¡œ í•˜ëŠ” ëŒ€í‘œì ì¸ ìˆ˜ë²•ì¸ ì½”ì‚¬ì¸ ìœ ì‚¬ë„ë¥¼ ì´ìš©.
```python
import numpy as np
cos_sim = []
for i in range(len(all_words_df)):
    cos_text = all_words_df.iloc[i]
    cos = np.dot(target_text, cos_text) / (np.linalg.norm(target_text) * np.linalg.norm(cos_text))
    cos_sim.append(cos)
all_words_df["cos_sim"] = cos_sim
all_words_df.sort_values("cos_sim",ascending=False).head()
```
![image](https://github.com/user-attachments/assets/4f170789-4aba-44f2-a8ff-84a8fdf94803)


### ì¶œì²˜ : íŒŒì´ì¬ ë°ì´í„°ë¶„ì„ ì‹¤ë¬´ í…Œí¬ë‹‰ 100