---
layout: post
title: "íŒŒì´ì¬ ë°ì´í„°ë¶„ì„ ì‹¤ë¬´ í…Œí¬ë‹‰ 100 : 8. ìˆ˜ì¹˜ ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ ì†Œë¹„ìì˜ í–‰ë™ì„ ì˜ˆì¸¡í•˜ëŠ” í…Œí¬ë‹‰ 10"
date: 2024-10-08 03:01:45 +0900
categories: íŒŒì´ì¬_ë°ì´í„°ë¶„ì„_ì‹¤ë¬´_í…Œí¬ë‹‰_100
---
## <span style= 'background-color: #f1f8ff'>ê³ ê°ì˜ ì†Œë¦¬
ğŸ—£ï¸ ë¬¼ë¥˜ ë¹„ìš© ê°œì„ ì—ì„œ ë‹¤ì–‘í•œ ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆê³ , ê³„ì†í•´ì„œ ë¶„ì„ì„ ë¶€íƒë“œë¦½ë‹ˆë‹¤. ì´ë²ˆì—ëŠ” ìš°ë¦¬ íšŒì‚¬ ì œí’ˆì˜ íŒë§¤ë¥¼ ì˜ˆì¸¡í•  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ê²€í† í•´ì¤¬ìœ¼ë©´ í•©ë‹ˆë‹¤. ìš°ë¦¬ ì œí’ˆì€ ëŒ€ëŒ€ì ì¸ í™ë³´ë¥¼ í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ê±°ì˜ SNSë¥¼ í†µí•´ ì…ì†Œë¬¸ì„ íƒ€ê³  í¼ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì¬êµ¬ë§¤ ê³ ê°ì€ ìš°ë¦¬ì™€ SNSë¡œ ì—°ê²°ë¼ ìˆì–´ íŒŒì•…ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤. ì´ê²ƒì„ ì´ìš©í•´ ì•ìœ¼ë¡œì˜ ë§¤ì¶œì„ ì˜ˆì¸¡í•  ìˆ˜ ìˆì„ê¹Œìš”?


## <span style= 'background-color: #f1f8ff'>8-0: ì „ì œì¡°ê±´
ğŸ’¡ ì¬êµ¬ë§¤ ê³ ê° 20ëª…ì˜ SNS ì—°ê²° ìƒíƒœê°€ links.csvì— ì €ì¥ë¼ ìˆìŠµë‹ˆë‹¤. ì—°ê²°ì´ ìˆìœ¼ë©´ 1, ì—†ìœ¼ë©´ 0ì…ë‹ˆë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ ëª¨ë“  ì¬êµ¬ë§¤ ê³ ê° 540ëª…ì˜ SNS ì—°ê²° ìƒíƒœëŠ” links_members.csvì— ì €ì¥ë¼ ìˆìŠµë‹ˆë‹¤. info_members.csvì—ëŠ” ëª¨ë“  ì¬êµ¬ë§¤ ê³ ê° 540ëª…ì˜ 2ë…„ê°„ ë§¤ì›” ì´ìš© í˜„í™©ì´ ì €ì¥ë¼ ìˆìŠµë‹ˆë‹¤. ì´ìš© ì‹¤ì ì´ ìˆëŠ” ë‹¬ì€ 1ë¡œ, ì—†ëŠ” ë‹¬ì€ 0ìœ¼ë¡œ ê¸°ë¡ë¼ ìˆìŠµë‹ˆë‹¤.
![image](https://github.com/user-attachments/assets/8c8d31b5-15e3-4742-9d31-63237806b831)


## <span style= 'background-color: #f1f8ff'>8-1: ì¸ê°„ê´€ê³„ ë„¤íŠ¸ì›Œí¬ë¥¼ ê°€ì‹œí™”í•´ ë³´ì
ğŸ—ƒï¸ ë°ì´í„° ë¦¬ë”©
```python
import pandas as pd
df_links = pd.read_csv("links.csv")
```
![image](https://github.com/user-attachments/assets/81f40659-90ec-4934-a335-f55ecff6990e)

ğŸ—ƒï¸ ë„¤íŠ¸ì›Œí¬ ê°€ì‹œí™”
```python
import networkx as nx
import matplotlib.pyplot as plt

#ê·¸ë˜í”„ ê°ì²´ ìƒì„±
G = nx.Graph()

#ë…¸ë“œ ì„¤ì •
NUM = len(df_links.index)
for i in range(1,NUM+1):
    node_no = df_links.columns[i].strip("Node")
    G.add_node(str(node_no))

#ì—£ì§€ ì„¤ì •
for i in range(NUM):
    for j in range(NUM):
        node_name = "Node" + str(j)

        if df_links[node_name].iloc[i]==1:
            G.add_edge(str(i),str(j))

#ê·¸ë¦¬ê¸°
nx.draw_networkx(G,node_color="k", edge_color="k", font_color="w")
plt.show()
```
![image](https://github.com/user-attachments/assets/ceddef69-47e2-49da-a316-894f3940f9a3)

ğŸ” draw_networkx: ë‹¤ë¥¸ ê²ƒê³¼ ì—°ê²°ì´ ë§ì€ ë…¸ë“œë¥¼ ì¤‘ì‹¬ì— ì˜¤ê²Œ ìë™ìœ¼ë¡œ ìœ„ì¹˜ë¥¼ ê²°ì •í•´ì„œ ê°€ì‹œí™”í•¨. ì¬í˜„ì„±ì´ ì—†ì–´ì„œ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ë‹¤ë¥¸ ê·¸ë˜í”„ê°€ í‘œì‹œë  ìˆ˜ë„ ìˆìŒ.


## <span style= 'background-color: #f1f8ff'>8-2: ì…ì†Œë¬¸ì— ì˜í•œ ì •ë³´ ì „íŒŒ ëª¨ìŠµì„ ê°€ì‹œí™”í•´ ë³´ì
ğŸ—ƒï¸ ì •ë³´ ì „íŒŒ ì‹œë®¬ë ˆì´ì…˜
```python
import numpy as np

#ì…ì†Œë¬¸ ì „íŒŒ ì—¬ë¶€ì˜ í™•ë¥ ì  ê²°ì •
def determine_link(percent):
    rand_val = np.random.rand()
    if rand_val<=percent:
        return 1
    else:
        return 0

#ì…ì†Œë¬¸ ì‹œë®¬ë ˆì´ì…˜
def simulate_percolation(num, list_active, percent_percolation):
    for i in range(num):
        if list_active[i]==1:
            for j in range(num):
                node_name = "Node" + str(j)
                if df_links[node_name].iloc[i]==1:
                    if determine_link(percent_percolation)==1:
                        list_active[j] = 1
    return list_active

percent_percolation = 0.1
T_NUM = 36
NUM = len(df_links.index)
list_active = np.zeros(NUM)
list_active[0] = 1

list_timeSeries = []
for t in range(T_NUM):
    list_active = simulate_percolation(NUM, list_active, percent_percolation)
    list_timeSeries.append(list_active.copy())
```

ğŸ—ƒï¸ ì •ë³´ ì „íŒŒ ê°€ì‹œí™”
```python
def active_node_coloring(list_active):
    list_color = []
    for i in range(len(list_timeSeries[t])):

        if list_timeSeries[t][i]==1:
            list_color.append("r")
        else:
            list_color.append("k")
    return list_color

t = 0 #1ê°œì›” í›„
nx.draw_networkx(G,font_color="w",node_color=active_node_coloring(list_timeSeries[t]))
plt.show()
```
![image](https://github.com/user-attachments/assets/dd07f326-9c3c-4346-b587-06e7c2c7e802)

```python
t = 11 #12ê°œì›” í›„
nx.draw_networkx(G,font_color="w",node_color=active_node_coloring(list_timeSeries[t]))
plt.show()
```
![image](https://github.com/user-attachments/assets/e0beecbb-dc9b-45b6-8038-47f33bb8a9b5)

```python
t = 35 #36ê°œì›” í›„
nx.draw_networkx(G,font_color="w",node_color=active_node_coloring(list_timeSeries[t]))
plt.show()
```
![image](https://github.com/user-attachments/assets/9e6c8af3-1bf3-4ef0-9a55-fd90e0dc62cf)

ğŸ” active_node_coloring: ì…ì†Œë¬¸ì´ ì „íŒŒëœ ë…¸ë“œëŠ” ë¹¨ê°„ìƒ‰ìœ¼ë¡œ, ì•„ì§ ì „íŒŒë˜ì§€ ì•Šì€ ë…¸ë“œëŠ” ê²€ì€ìƒ‰ìœ¼ë¡œ ìƒ‰ì¹ í•˜ëŠ” í•¨ìˆ˜.


## <span style= 'background-color: #f1f8ff'>8-3: ì…ì†Œë¬¸ ìˆ˜ì˜ ì‹œê³„ì—´ ë³€í™”ë¥¼ ê·¸ë˜í”„í™”í•´ ë³´ì
ğŸ—ƒï¸ ì…ì†Œë¬¸ ìˆ˜ ì‹œê³„ì—´ í‘œì‹œ
```python
list_timeSeries_num = []
for i in range(len(list_timeSeries)):
    list_timeSeries_num.append(sum(list_timeSeries[i]))

plt.plot(list_timeSeries_num)
plt.show()
```
![image](https://github.com/user-attachments/assets/d899d249-9834-41da-b3a9-dca01655752b)

ğŸ” í™•ë¥ ì  ê³„ì‚°ì´ê¸°ì— ê°ì ê³„ì‚° ê²°ê³¼ê°€ ë‹¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ, ì„œì„œíˆ ì „íŒŒë˜ì–´ ì „ì›ì—ê²Œ ì „íŒŒë˜ëŠ” ëª¨ìŠµì´ í™•ì¸ë˜ë©´ ë¨.


## <span style= 'background-color: #f1f8ff'>8-4: íšŒì› ìˆ˜ì˜ ì‹œê³„ì—´ ë³€í™”ë¥¼ ì‹œë®¬ë ˆì´ì…˜í•´ ë³´ì
ğŸ—ƒï¸ íšŒì› ìˆ˜ ì‹œê³„ì—´ ë³€í™” ì‹œë®¬ë ˆì´ì…˜: ìŠ¤í¬ì¸  ì„¼í„°ì˜ ë°ì´í„° ì´ìš©.
```python
def simulate_population(num, list_active, percent_percolation, percent_disapparence, df_links):
    #í™•ì‚°
    for i in range(num):
        if list_active[i]==1:
            for j in range(num):
                if df_links.iloc[i][j]==1:
                    if determine_link(percent_percolation)==1:
                        list_active[j] = 1
    #ì†Œë©¸
    for i in range(num):
        if determine_link(percent_disapparence)==1:
            list_active[i] = 0
    return list_active

percent_percolation = 0.1
percent_disapparence = 0.05
T_NUM = 100
NUM = len(df_links.index)
list_active = np.zeros(NUM)
list_active[0] = 1

list_timeSeries = []
for t in range(T_NUM):
    list_active = simulate_population(NUM, list_active, percent_percolation, percent_disapparence,df_links)
    list_timeSeries.append(list_active.copy())

#ì‹œê³„ì—´ ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
list_timeSeries_num = []
for i in range(len(list_timeSeries)):
    list_timeSeries_num.append(sum(list_timeSeries[i]))

plt.plot(list_timeSeries_num)
plt.show()
```
![image](https://github.com/user-attachments/assets/13ddc97e-b08e-4282-8396-f2d0e009b2fd)

ğŸ” ìŠ¤í¬ì¸  ì„¼í„°ì˜ íšŒì›ì€ ì–´ëŠ ë‚  ê°‘ìê¸° ì´ìš©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆê¸° ë•Œë¬¸ì— 'ì†Œë©¸'ì´ë¼ëŠ” ì¡°ì‘ì´ ì¶”ê°€ë¨. ì´ë¡œ ì¸í•´ íšŒì›ì˜ ì¦ê°€ì™€ ê°ì†Œê°€ ë°˜ë³µë˜ë©´ì„œ ì„œì„œíˆ 100%ì˜ ì´ìš©ë¥ ì„ í–¥í•´ê°.


## <span style= 'background-color: #f1f8ff'>8-5: íŒŒë¼ë¯¸í„° ì „ì²´ë¥¼ 'ìƒê´€ê´€ê³„'ë¥¼ ë³´ë©´ì„œ íŒŒì•…í•´ ë³´ì
ğŸ—ƒï¸ íŒŒë¼ë¯¸í„° ì „ì²´ íŒŒì•…: ì…ì†Œë¬¸ ì „íŒŒì™€ ì´ìš© ì¤‘ë‹¨ì´ ì¼ì–´ë‚  í™•ë¥ ì€ ìƒí’ˆì´ë‚˜ ì„œë¹„ìŠ¤ì˜ ì„±ì§ˆ, ìº í˜ì¸ ìœ ë¬´ ë“±ì— ë”°ë¼ ë‹¬ë¼ì§. ê·¸ë¦¬ê³  ì´ í™•ë¥ ì´ ìƒí’ˆì˜ ë³´ê¸‰ì— ì–´ë–»ê²Œ ì˜í–¥ì„ ì£¼ëŠ”ì§€ê°€ ì¤‘ìš”í•¨. ì´ëŸ° ë³´ê¸‰ì˜ ëª¨ìŠµì„ íŒŒì•…í•˜ê¸° ìœ„í•´ 'ìƒê´€ê´€ê³„'ë¥¼ ê·¸ë ¤ íŒŒì•….
```python
T_NUM = 100
NUM_PhaseDiagram = 20
phaseDiagram = np.zeros((NUM_PhaseDiagram,NUM_PhaseDiagram))
for i_p in range(NUM_PhaseDiagram):
    for i_d in range(NUM_PhaseDiagram):
        percent_percolation = 0.05*i_p
        percent_disapparence = 0.05*i_d
        list_active = np.zeros(NUM)
        list_active[0] = 1
        for t in range(T_NUM):
            list_active = simulate_population(NUM, list_active, percent_percolation, percent_disapparence, df_links)
        phaseDiagram[i_p][i_d] = sum(list_active)
print(phaseDiagram)
```
![image](https://github.com/user-attachments/assets/a1a8b2ff-43a9-41af-820f-ba1b5a906bf5)

ğŸ” ì†Œë©¸ì˜ í™•ë¥ ì´ 20~30%ë¥¼ ë„˜ìœ¼ë©´ ì•„ë¬´ë¦¬ ì…ì†Œë¬¸ í™•ë¥ ì´ ë†’ë”ë¼ë„ ì´ìš©ìëŠ” ì¦ê°€í•˜ì§€ ì•ŠìŒ.


## <span style= 'background-color: #f1f8ff'>8-6: ì‹¤ì œ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ë³´ì
ğŸ—ƒï¸ ë°ì´í„° ë¦¬ë”©
```python
df_mem_links = pd.read_csv("links_members.csv")
df_mem_info = pd.read_csv("info_members.csv")
```
![image](https://github.com/user-attachments/assets/5213ba9f-e95a-4c5f-9a32-247d338a760b)


## <span style= 'background-color: #f1f8ff'>8-7: ë§í¬ ìˆ˜ì˜ ë¶„í¬ë¥¼ ê°€ì‹œí™”í•´ ë³´ì
ğŸ—ƒï¸ ë§í¬ ìˆ˜ ë¶„í¬ ê°€ì‹œí™”: 540ëª…ì´ë¼ëŠ” ê·œëª¨ëŠ” ë„¤íŠ¸ì›Œí¬ë¥¼ ê°€ì‹œí™”í•´ë„ ë…¸ë“œê°€ ë°€ì§‘í•´ì„œ ë„¤íŠ¸ì›Œí¬ì˜ ìƒí™©ì„ íŒŒì•…í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ë°©ë²• ì´ìš©.
```python
NUM = len(df_mem_links.index)
array_linkNum = np.zeros(NUM)
for i in range(NUM):
    array_linkNum[i] = sum(df_mem_links["Node"+str(i)])
plt.hist(array_linkNum, bins=10, range=(0,250))
plt.show()
```
![image](https://github.com/user-attachments/assets/5c82c419-a1e1-4c05-b13b-49f003ed7064)

ğŸ” ì´ ë¶„í¬ëŠ” ê±°ì˜ ëª¨ë“  ë…¸ë“œê°€ ì–´ëŠ ì •ë„ì˜ ë§í¬ ìˆ˜ë¥¼ ê°€ì§€ê³  ìˆëŠ” ë¶„í¬ì´ê¸° ë•Œë¬¸ì— 'ê¸‰ê²©íˆ ì…ì†Œë¬¸ì´ í¼ì§€ì§€ ì•ŠëŠ”' ëŒ€ì‹ ì— 'í—ˆë¸Œì— ì˜ì¡´í•˜ì§€ ì•Šê³  ì…ì†Œë¬¸ì´ í¼ì§€ê¸° ì‰½ë‹¤'ë¼ê³  ë§í•  ìˆ˜ ìˆìŒ.


## <span style= 'background-color: #f1f8ff'>8-8: ì‹œë®¬ë ˆì´ì…˜ì„ ìœ„í•´ ì‹¤ì œ ë°ì´í„°ë¡œë¶€í„° íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ì •í•˜ì
ğŸ—ƒï¸ íŒŒë¼ë¯¸í„° ì¶”ì •: ì‹œë®¬ë ˆì´ì…˜í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ì •í•´ì•¼ í•¨.
```python
NUM = len(df_mem_info.index)
T_NUM = len(df_mem_info.columns)-1

#ì†Œë©¸ í™•ë¥  ì¶”ì •
count_active = 0
count_active_to_inactive = 0
for t in range(1,T_NUM):
    for i in range(NUM):
        if (df_mem_info.iloc[i][t]==1):
            count_active_to_inactive += 1
            if (df_mem_info.iloc[i][t+1]==0):
                count_active += 1
estimated_percent_disapparence = count_active/count_active_to_inactive

#í™•ì‚° í™•ë¥  ì¶”ì •
count_link = 0
count_link_to_active = 0
count_link_temp = 0
for t in range(T_NUM-1):
    df_link_t = df_mem_info[df_mem_info[str(t)]==1]
    temp_flag_count = np.zeros(NUM)
    for i in range(len(df_link_t.index)):
        df_link_temp = df_mem_links[df_mem_links["Node"+str(df_link_t.index[i])]==1]
        for j in range(len(df_link_temp.index)):
            if (df_mem_info.iloc[df_link_temp.index[j]][str(t)]==0):
                if (temp_flag_count[df_link_temp.index[j]]==0):
                    count_link += 1
                if (df_mem_info.iloc[df_link_temp.index[j]][str(t+1)]==1):
                    if (temp_flag_count[df_link_temp.index[j]]==0):
                        temp_flag_count[df_link_temp.index[j]] = 1
                        count_link_to_active += 1
estimated_percent_percolation = count_link_to_active/count_link
```


## <span style= 'background-color: #f1f8ff'>8-9: ì‹¤ì œ ë°ì´í„°ì™€ ì‹œë®¬ë ˆì´ì…˜ì„ ë¹„êµí•˜ì
ğŸ—ƒï¸ ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰
```python
percent_percolation = 0.025184661323275185
percent_disapparence = 0.10147163541419416
T_NUM = 24
NUM = len(df_mem_links.index)
list_active = np.zeros(NUM)
list_active[0] = 1
list_timeSeries = []
for t in range(T_NUM):
    list_active = simulate_population(NUM, list_active, percent_percolation, percent_disapparence, df_mem_links)
    list_timeSeries.append(list_active.copy())
list_timeSeries_num = []
for i in range(len(list_timeSeries)):
    list_timeSeries_num.append(sum(list_timeSeries[i]))

T_NUM = len(df_mem_info.columns)-1
list_timeSeries_num_real = []
for t in range(0,T_NUM):
    list_timeSeries_num_real.append(len(df_mem_info[df_mem_info[str(t)]==1].index))

plt.plot(list_timeSeries_num, label = 'simulated')
plt.plot(list_timeSeries_num_real, label = 'real')
plt.xlabel('month')
plt.ylabel('population')
plt.legend(loc='lower right')
plt.show()
```
![image](https://github.com/user-attachments/assets/505f19f4-691f-44ab-8c22-a19ef5158ce2)

ğŸ” ì–´ëŠ ì§€ì ì—ì„œ ì´ìš©ìê°€ ê¸‰ê²©íˆ ì¦ê°€í•˜ëŠ”ì§€ì˜ ê²½í–¥ì€ í™•ì¸ë˜ì§€ë§Œ, í”„ë¡œê·¸ë¨ ë‚œìˆ˜ì˜ ì˜í–¥ìœ¼ë¡œ ì¦ê°€í•˜ëŠ” ì‹œê°„ëŒ€ë‚˜ ì‹œê¸°ì— ì˜¤ì°¨ê°€ ìƒê¹€. ì´ëŠ” ì‹œë®¬ë ˆì´ì…˜ ì˜ˆì¸¡ ì •í™•ë„ì˜ í•œê³„ì§€ë§Œ, ì´ ê²½í–¥ì„ ì‚¬ì „ì— ì•Œì•„ë‘ë©´ ì •ì„±ì ì¸ ì˜ˆì¸¡ì— ì‚¬ìš© ê°€ëŠ¥. ì •í™•ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ì„œëŠ” ê°™ì€ ì‹œë®¬ë ˆì´ì…˜ì„ ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰í•´ì„œ í‰ê· ê°’ì„ ê³„ì‚°í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ.


## <span style= 'background-color: #f1f8ff'>8-10: ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ ë¯¸ë˜ë¥¼ ì˜ˆì¸¡í•´ ë³´ì
ğŸ—ƒï¸ ì‹œë®¬ë ˆì´í„° ì‹¤í–‰: ì‹¤ì œ ë°ì´í„°ì™€ ì‹œë®¬ë ˆì´ì…˜ì˜ ì›€ì§ì„ì„ ë¹„êµí•˜ë„ë¡ ë§Œë“  í”„ë¡œê·¸ë¨ì¸ ì‹œë®¬ë ˆì´í„°ë¥¼ ì‹¤í–‰.
```python
percent_percolation = 0.025184661323275185
percent_disapparence = 0.10147163541419416
T_NUM = 36
NUM = len(df_mem_links.index)
list_active = np.zeros(NUM)
list_active[0] = 1
list_timeSeries = []
for t in range(T_NUM):
    list_active = simulate_population(NUM, list_active, percent_percolation, percent_disapparence, df_mem_links)
    list_timeSeries.append(list_active.copy())
list_timeSeries_num = []
for i in range(len(list_timeSeries)):
    list_timeSeries_num.append(sum(list_timeSeries[i]))

plt.plot(list_timeSeries_num, label = 'simulated')
plt.xlabel('month')
plt.ylabel('population')
plt.legend(loc='lower right')
plt.show()
```
![image](https://github.com/user-attachments/assets/f951b017-5dfd-4664-8bf1-0a5aa41a29cc)




### ì¶œì²˜ : íŒŒì´ì¬ ë°ì´í„°ë¶„ì„ ì‹¤ë¬´ í…Œí¬ë‹‰ 100