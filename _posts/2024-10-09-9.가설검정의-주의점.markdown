---
layout: post
title: "통계 101 X 데이터 분석 : 9. 가설검정의 주의점"
date: 2024-10-09 04:01:45 +0900
categories: 통계_101_X_데이터_분석
---
## <span style= 'background-color: #f1f8ff'>9-1. 재현성
🗃️ 재현성\
누가 언제 어디서 실험하더라도, 조건이 동일하다면 동일한 결과를 얻을 수 있어야 한다는 것을 **재현성**이라 함. 다양한 분야에서 다른 연구자가 동일한 방법과 조건으로 추시했을 때 같은 결과를 얻지 못했다는 보고가 다양한 분야에서 잇따르고 있음. 재현성이 없다는 것은 원래 논문의 주장이 잘못되었을 가능성이 있다는 것을 의미하고, 이런 문제를 **재현성 위기**라 함.

🗃️ 재현 불가능한 원인은?\
낮은 재현성을 야기하는 원인은 다양하다고 생각됨. 그 중엔 **실험 조건을 동일하게 조성하기 어렵다는 이유**, **가설검정의 사용 방법**이 있음. 가설검정 사용 방법에 따라 p값을 조작할 수 있는데, 이를 **p-해킹**이라 함.
![image](https://github.com/user-attachments/assets/0f1b6622-0c2d-4a6c-abe1-8d6985a749de)


## <span style= 'background-color: #f1f8ff'>9-2. 가설검정의 문제점
🗃️ p값 되돌아보기\
p값은 '귀무가설이 옳다고 가정할 때 실제 관찰한 데이터 이상으로 극단적인 값을 얻을 확률'을 의미함. 이 값이 작으면 귀무가설과 관찰한 데이터 사이에 괴리가 크다는 것을 뜻함.

🗃️ 피셔류 검정과 네이만-피어슨류 검정\
**피셔류 검정**에서는 귀무가설이 옳을 때 관찰한 데이터 이상으로 극단적인 값을 얻을 확률인 p값을 계산하고, 귀무가설과 관찰한 값의 괴리 정도를 평가함.\
**네이만-피어슨류 검정**에서는 p값이 유의수준 미만인가 이상인가에만 주목하여 가설 기각/채택이라는 결론을 내림. 단, 미리 검출하고자 하는 효과크기를 정하고, 설정한 유의수준에 따라 필요한 표본크기를 결정해야 함.

🗃️ 효과크기\
이표본 평균값 비교에서 통계적으로 유의미한 차이가 있음을 알았다고 해도, 이는 귀무가설이 옳다고는 생각하기 어려움을 나타낼 뿐이며, 평균값에 얼마나 차이가 있는지는 말해주지 않음. 그러므로 얼마만큼의 효과가 있는지를 나타내는 **효과크기**도 함께 표기하는 것이 바람직함.\
평균값의 차이를 나타내는 효과크기의 예로는 Cohen's d가 있음.
![image](https://github.com/user-attachments/assets/3efd5a3d-891c-497f-8b75-4176ed3af6d9)
![image](https://github.com/user-attachments/assets/c2ccd5a5-d160-48cd-96a8-db743cb1ec04)

🗃️ 검정 방법에 따른 다양한 효과크기\
![image](https://github.com/user-attachments/assets/4c14ac8a-54a7-48d1-bf7f-20ea4645cd13)

🗃️ 베이즈 인수\
p값 대신 사용하는 지표. 가설을 수학적으로 나타낸 것을 모형이라 할 때, 어떤 모형 M이 얻은 데이터 x를 설명하는 데 얼마나 적절한지를 **주변 가능도**라 불리는 다음 식으로 나타냄.
![image](https://github.com/user-attachments/assets/e4225fdf-a27c-4da8-9e88-25bafd554138)

베이즈 인수는 다음과 같은 식으로 나타냄.
![image](https://github.com/user-attachments/assets/a39b5ec5-5460-4a1e-8f19-59bc5d6048a7)

🗃️ 베이즈 인수의 특징과 주의점\
귀무가설과 대립가설 간 비대칭성 문제는 베이즈 인수에는 해당하지 않아 2가지 가설을 대등하게 비교할 수 있고, 순차적인 갱신이 가능하다는 이점이 있음. 이외에도 데이터를 예측하는 정도가 2개 모형에서 동일할 때, 파라미터가 적은 단순 모형이 선택된다는 성질이나, 비교하는 모형 중에 실제 모형이 포함되어 있다면 실제 모형을 고를 확률이 1에 한없이 가까워지는 성질이 있기 때문에 좋은 지표라 할 수 있음.

하지만 베이즈 인ㄴ수는 두 가설의 상대적인 비교일 뿐이어서 한쪽 가설이 나쁜 것만으로 베이즈 인수가 큰 값이 될 수도 있다는 점, 파라미터 세타의 사전분포에 영향을 받는다는 점, 주변 가능도를 구할 때는 모형으로 설정한 파라미터로 평균화하기 위한 적분 계산이 필요하다는 점에서 주의가 필요함.


## <span style= 'background-color: #f1f8ff'>9-3. p-해킹
🗃️ p-해킹\
의도하든 의도하지 않든 p값을 원하는 방향으로 조작하는 행위를 p-해킹이라 함. 다음과 같은 예시가 있음.
![image](https://github.com/user-attachments/assets/50886468-bb4e-4571-b662-1976a037fcd9)

바람직한 연구 결과를 위해서는 **결과를 보며 표본크기를 늘려서는 안 되고**, **마음에 드는 해석만 보고해서는 안 됨**.

🗃️ p-해킹을 예방하기 위한 노력들\
다양한 실험을 하여 전체를 탐색적으로 해석하는 **탐색형 연구**, 가설을 세우고 이를 검증하는 연구인 **가설검증형 연구**를 통해 p-해킹을 예방할 수 있음.\
이 외에도 연구를 실시하기 전에 가설과 실험 설계, 분석 방법 등의 연구 계획을 등록하는 **사전 등록** 방법도 있음.

🗃️ 가설검정을 이해할 때 확인할 목록\
![image](https://github.com/user-attachments/assets/1e3b1121-c2b4-40eb-a253-f6f489f34ddb)
![image](https://github.com/user-attachments/assets/a9e394da-957e-45a8-bce5-91ad86a9bea6)


### 출처 : 통계 101 X 데이터 분석